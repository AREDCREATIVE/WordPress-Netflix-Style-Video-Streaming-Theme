jQuery(document).ready(function(e){e(".streamium-list-reviews").live("click",function(t){t.preventDefault(),e(".streamium-review-panel-content").empty(),e(".streamium-review-panel-header h1").empty();var i=e(this).attr("data-id"),a=e(this).attr("data-nonce");console.log("CLICKED"),e.ajax({url:streamium_object.ajax_url,type:"post",dataType:"json",data:{action:"streamium_get_reviews",post_id:i,nonce:a},success:function(t){if(t.error)return void swal({title:"Error",text:t.message,type:"info",showCancelButton:!1,confirmButtonText:"Ok, thanks!",closeOnConfirm:!0},function(){});var i='<ul class="media-list">';e.each(t.data,function(e,t){var a=t.avatar,s=t.message,n=t.time,r=t.username;i+='<li class="media"><div class="media-left"><a href="#"><img class="media-object" src="'+a+'" alt="'+n+'"></a></div><div class="media-body"><h4 class="media-heading">'+r+'</h4><small class="media-time">'+n+"</small><p>"+s+"</p></div></li>"}),i+="</ul>",e(".streamium-review-panel-content").html(i),e(".streamium-review-panel-header h1").html(t.title+" Reviews"),e(".streamium-review-panel").addClass("is-visible")}})}),e(".streamium-review-panel").live("click",function(t){(e(t.target).is(".streamium-review-panel")||e(t.target).is(".streamium-review-panel-close"))&&(e(".streamium-review-panel").removeClass("is-visible"),t.preventDefault())}),e(".streamium-review-like-btn").live("click",function(t){var i=e(this).find(".like-button").attr("data-id"),a=e(this).find(".like-button").attr("data-nonce");return swal({title:"Great Glad You Liked It",text:"Please tell us why",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Write something"},function(t){return t!==!1&&(""===t?(swal.showInputError("You need to write something!"),!1):void e.ajax({url:streamium_object.ajax_url,type:"post",dataType:"json",data:{action:"pt_like_it",post_id:i,message:t,nonce:a},success:function(t){return t.error?void swal({title:"Error",text:t.message,type:"info",showCancelButton:!0,confirmButtonText:"Ok, got it!",closeOnConfirm:!0},function(){}):void swal({title:"Success",text:t.message,type:"success",showCancelButton:!0,confirmButtonText:"Ok, got it!",closeOnConfirm:!0},function(){e("#like-count-"+i).html(t.likes)})}}))}),!1})});