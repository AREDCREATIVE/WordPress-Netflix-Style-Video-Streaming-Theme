jQuery(document).ready(function(e){function o(n){console.log("code",n),S3BubbleAWS.init({id:"s3bubble-"+video_post_object.post_id,code:n,startTime:c,playerLoaded:function(n){n.on("timeupdate",function(){var e=this.currentTime(),o=this.duration(),t=e/o*100;window.percentage=Math.round(parseInt(t))}),n.on("ended",function(){t++,o(video_post_object.codes[t])}),function o(){e.ajax({url:streamium_object.ajax_url,type:"post",dataType:"json",data:{action:"streamium_create_resume",percentage:window.percentage?window.percentage:0,post_id:video_post_object.post_id,nonce:video_post_object.nonce},success:function(e){setTimeout(o,1e3)}})}(),n.play()}})}var t=0,n=video_post_object.code,c=video_post_object.percentage;video_post_object.codes.length>0&&(n=video_post_object.codes[t],c=0),o(n),e(".streamium-program-update-video").on("click",function(){return t=e(this).data("id"),o(video_post_object.codes[t]),!1})});